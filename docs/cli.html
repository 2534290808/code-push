<!DOCTYPE html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><link href=http://gmpg.org/xfn/11 rel=profile><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta http-equiv=content-type content="text/html; charset=utf-8"><meta property=og:title content="CodePush"><meta property=og:site_name content="CodePush"><meta property=og:description content="CodePush is a service that allows you to push live mobile app updates directly to your end users' devices."><meta property=og:image content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG"><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@Microsoft><meta name=twitter:title content=CodePush><meta name=twitter:description content="CodePush is a service that allows you to push live mobile app updates directly to your end users' devices."><meta name=twitter:image content=https://microsoft.github.io/code-push/assets/images/fbshare.PNG><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=viewport content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"><meta name=description content="CodePush is a service that allows you to push live mobile app updates directly to your end users' devices."><title>Management CLI &middot; CodePush</title><link rel=stylesheet href=/code-push/assets/css/vendor.a6bad8f4.css><link rel=stylesheet href=/code-push/assets/css/style.min.089db944.css><link rel=apple-touch-icon sizes=57x57 href=/code-push/assets/images/icons/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/code-push/assets/images/icons/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/code-push/assets/images/icons/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/code-push/assets/images/icons/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/code-push/assets/images/icons/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/code-push/assets/images/icons/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/code-push/assets/images/icons/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/code-push/assets/images/icons/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/code-push/assets/images/icons/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/code-push/assets/images/icons/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/code-push/assets/images/icons/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/code-push/assets/images/icons/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/code-push/assets/images/icons/favicon-16x16.png><link rel=manifest href=/code-push/assets/images/icons/manifest.json><meta name=msapplication-TileColor content=#294E80><meta name=msapplication-TileImage content=/code-push/assets/images/icons/ms-icon-144x144.png><meta name=theme-color content=#ffffff><script src=/code-push/assets/js/vendors.89d36c54.js></script><script src=/code-push/assets/js/all.min.7a3e5068.js></script><link rel=alternate type=application/rss+xml title=RSS href=/code-push/atom.xml></head><body><header role=banner><nav class="navbar navbar-default navbar-fixed-top"><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle pull-left collapsed" data-toggle=collapse data-target=#bs-example-navbar-collapse-1><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=/code-push/index.html><img class=navbar-logo src="/code-push/assets/images/codepush_navbar_logo.svg"></a></div><div class="collapse navbar-collapse navbar_center" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li class=""><a href=/code-push/index.html#getting_started>Get Started</a></li><li class=active><a href=/code-push/docs/index.html>Documentation</a></li><li class=""><a href=/code-push/faq/index.html>FAQ</a></li></ul></div></div></nav></header><div class=top_navbar_spacer></div><div class=docs><div id=content class="container main_content"><div class="col-md-3 toc-container hidden-sm hidden-xs"><div class=row><div class=site-toc-container><h2 class=site-toc-title>Table of Contents</h2><ul class=site-toc><li><a class="" href=/code-push/docs/getting-started.html>Getting Started</a></li><li><a class=this-page href=/code-push/docs/cli.html>Management CLI</a><div id=page-toc class=page-toc></div></li><li><a class="" href=/code-push/docs/cordova.html>Cordova Client SDK</a></li><li><a class="" href=/code-push/docs/react-native.html>React Native Client SDK</a></li></ul></div></div></div><div class="col-md-7 col-md-offset-1"><div class=row><div class="xs-toc-container visible-sm visible-xs"><nav class=xs-toc><div class="toc-dropdown dropdown"><h2 class=site-toc-title>Table of Contents</h2><a class="dropdown-toggle btn" data-toggle=dropdown href=#>Select topic <span class=caret></span></a><ul class=dropdown-menu><li><a href=/code-push/docs/getting-started.html>Getting Started</a></li><li><a href=/code-push/docs/cli.html>Management CLI</a></li><li><a href=/code-push/docs/cordova.html>Cordova Client SDK</a></li><li><a href=/code-push/docs/react-native.html>React Native Client SDK</a></li></ul></div></nav></div></div><div class=row><header class=doc-header><h1 class=doc-title>Management CLI</h1></header><article class=doc-content><p><img src=https://cloud.githubusercontent.com/assets/116461/10649269/e8bef480-77f7-11e5-8f45-ac9f9a3c1203.png alt="CodePush CLI"></p><h2>Installation</h2><ul><li>Install <a href="https://nodejs.org/">Node.js</a></li><li>Install the CodePush CLI: <code>npm install -g code-push-cli</code></li></ul><h2>Usage</h2><p>Every command within the CodePush CLI requires authentication, and therefore, before you can begin managing your account, you need to login using the Github or Microsoft account you used when requesting access to the service. You can do this by running the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push login
</code></pre></div><p>This will launch a browser, asking you to authenticate with the appropriate identity provider. This will generate an access token that you need to copy/paste into the CLI (it will prompt you for it). You are now succesfully authenticated and can safely close your browser window.</p><p>When you login from the CLI, your access token (kind of like a cookie) is persisted to disk so that you don&rsquo;t have to login everytime you attempt to access your account. In order to delete this file from your computer, simply run the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push logout
</code></pre></div><p>If you forget to logout from a machine you&rsquo;d prefer not to leave a running session on (e.g. your friend&rsquo;s laptop), you can use the following commands to list and remove any &ldquo;live&rdquo; access tokens.</p><div class=highlight><pre><code class=language-text data-lang=text>code-push access-key ls
code-push access-key rm &lt;accessKey&gt;
</code></pre></div><p>The list of access keys will display the name of the machine the token was created on, as well as the time the login occured. This should make it easy to spot keys you don&rsquo;t want to keep around.</p><h3>App management</h3><p>Before you can deploy any updates, you need to register an app with the CodePush service using the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push app add &lt;appName&gt;
</code></pre></div><p>All new apps automatically come with two deployments (Staging and Production) so that you can begin distributing updates to multiple channels without needing to do anything extra (see deployment instructions below). After you create an app, the CLI will output the deployment keys for the Staging and Production channels, which you can begin using to configure your clients via their respective SDKs (details for <a href=http://github.com/cordova-plugin-code-push>Cordova</a> and <a href=http://github.com/react-native-code-push>React Native</a>).</p><p>If you don&rsquo;t like the name you gave an app, you can rename it using the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push app rename &lt;appName&gt; &lt;newAppName&gt;
</code></pre></div><p>The app&rsquo;s name is only meant to be recognizeable from the management side, and therefore, you can feel free to rename it as neccessary. It won&rsquo;t actually impact the running app, since update queries are made via deployment keys.</p><p>If at some point you no longer need an app, you can remove it from the server using the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push app rm &lt;appName&gt;
</code></pre></div><p>Do this with caution since any apps that have been configured to use it will obviously stop receiving updates.</p><p>Finally, if you want to list all apps that you&rsquo;ve registered with the CodePush server, you can run the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push app ls
</code></pre></div><h3>Deployment management</h3><p>As mentioned above, every created app automatically includes two deployments: <strong>Staging</strong> and <strong>Production</strong>. This allows you to have multiple versions of your app in flight at any given time, while still using the CodePush server to distribute the updates. If having a staging and production version of your app is enough to meet your needs, then you don&rsquo;t need to do anything else. However, if you want an alpha, dev, etc. deployment, you can easily create them using the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push deployment add &lt;appName&gt; &lt;deploymentName&gt;
</code></pre></div><p>Just like with apps, you can remove, rename and list deployments as well, using the following commands respectively:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push deployment rename &lt;appName&gt; &lt;deploymentName&gt; &lt;newDeploymentName&gt;
code-push deployment rm &lt;appName&gt; &lt;deploymentName&gt;
code-push deployment ls &lt;appName&gt;
</code></pre></div><h3>Releasing an update</h3><p>Once your app has been configured to query for updates against the CodePush service&ndash;using your desired deployment&ndash;you can begin releasing updates to it using the following command:</p><div class=highlight><pre><code class=language-text data-lang=text>code-push release &lt;appName&gt; &lt;package&gt; &lt;appStoreVersion&gt;
[--deploymentName &lt;deploymentName&gt;]
[--description &lt;description&gt;]
[--mandatory &lt;true|false&gt;]
</code></pre></div><h4>Package parameter</h4><p>You can specify either a single file (e.g. a JS bundle for a React Native app), or a path to a directory (e.g. the /platforms/ios/www folder for a Cordova app). You don&rsquo;t need to zip up multiple files or directories in order to deploy those changes. The CLI will automatically zip them for you.</p><h4>App store version parameter</h4><p>This specifies the app store/binary version that is required by the code you are releasing. If a user is running a version of your app that doesn&rsquo;t match this value exactly, they will not receive the update. For Cordova, this value represents the &lt;widget version&gt; attribute in your config.xml. For React Native, this value corresponds to the <em>CFBundleShortVersionString</em> key in the Info.plist (for iOS) and the <em>versionCode</em> property in your build.gradle file or the &lt;manifest android:versionCode&gt; attribute in your AndroidManifest.xml file (for Android).</p><p>This behavior exists based on the following assumptions:</p><ol><li>If you update the app store version of your app, then you don&rsquo;t want any CodePush updates to apply on top of it unless specifically stated. This way, when users install the latest version from the store, they don&rsquo;t get superflous updates</li><li>If you release a CodePush update that depends on a specific version of the binary, you don&rsquo;t want users running an older app store version to get it until they have the latest app store version, since it wouldn&rsquo;t likely work for them (*)</li></ol><p>Due to these assumptions, a CodePush release is always associated with an exact app store version, not a range or a min/max version. Additionally, because these app store version numbers are specific to each platform, this is also why we recommend creating a distinct app or deployment with CodePush to release updates for the same app across Android and iOS.</p><p><em>NOTE: If you want to maintain multiple app store versions in parallel, you should create a separate app or deployment, as opposed to trying to rely on a single deployment to drive udpates for multiple app store versions</em></p><h4>Deployment name parameter</h4><p>This specifies which deployment you want to deploy the update. This defaults to &ldquo;Staging&rdquo;, but when you&rsquo;re ready to deploy to &ldquo;Production&rdquo;, or one of your own custom deployments, just explicitly set this argument.</p><p><em>NOTE: The parameter can be set using either &ldquo;&ndash;deploymentName&rdquo; or &ldquo;-d&rdquo;.</em></p><h4>Description parameter</h4><p>This provides an optional &ldquo;change log&rdquo; for the deployment. The value is simply roundtripped to the client so that when the update is detected, your app can choose to display it to the end-user.</p><p><em>NOTE: This parameter can be set using either &ldquo;&ndash;description&rdquo; or &ldquo;-desc&rdquo;</em></p><h4>Mandatory parameter</h4><p>This specifies whether the update is mandatory or not (<strong>true</strong> or <strong>false</strong>). The value is simply roundtripped to the client, who can decide to actually enforce it or not. The default value is <strong>false</strong></p><p><em>NOTE: This parameter can be set using either &ldquo;&ndash;mandatory&rdquo; or &ldquo;-m&rdquo;</em></p></article></div></div></div></div><footer><div class=footer-container><div class=container id=footer><div class=row><div class=col-sm-9><div class=row><div class=col-sm-4><h4>General</h4><ul class=nav><li><a href=https://github.com/Microsoft/code-push/blob/master/LICENSE.md target=_blank>License</a></li><li><a href=https://www.visualstudio.com/en-us/privacy-policy-vs target=_blank>Privacy</a></li><li><a href=https://msdn.microsoft.com/en-us/cc300389 target=_blank>Terms of Service</a></li></ul></div><div class=col-sm-4><h4>Community</h4><ul class=nav><li><a href="https://github.com/Microsoft/code-push/" target=_blank>GitHub Project</a></li><li><a href=https://stackoverflow.com/questions/tagged/codepush target=_blank>Stack Overflow</a></li><li><a href=https://twitter.com/hashtag/codepush target=_blank>#CodePush</a></li></ul></div><div class=col-sm-4><h4>Documentation</h4><ul class=nav><li><a href=https://github.com/Microsoft/code-push/blob/master/cli/README.md target=_blank>CLI Docs</a></li><li><a href=https://github.com/Microsoft/cordova-plugin-code-push/blob/master/README.md target=_blank>Cordova Plugin Docs</a></li><li><a href=https://github.com/Microsoft/react-native-code-push/blob/master/README.md target=_blank>React Native Plugin Docs</a></li></ul></div></div></div><div class=col-sm-3><h3><i class="fa fa-comment"></i> Talk to us!</h3><p>If you have any feedback or suggestions on how we can make CodePush more awesome, please <a href=mailto:codepushfeed@microsoft.com>email us</a> or ping us in the <a href=https://discordapp.com/channels/102860784329052160/107883037156466688>#code-push</a> channel on Reactiflux (for React Native).</p></div></div></div></div><div class="container-fluid signature-container"><div class=container><div class="row signature"><p class="pull-left hidden-xs">Made with <span class="glyphicon glyphicon-heart"></span> in Redmond</p><div class=pull-right><p class="copyright pull-left">&copy;2012-2015 Microsoft <img class=ms-logo-footer src="/code-push/assets/images/Microsoft_logo.svg"></p></div></div></div></div></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-68566566-1', 'auto');
    
     // strip off trailing slashes
    var pathnameWithoutTrailingSlash = window.location.pathname.toLowerCase();
    var pathnameLength = pathnameWithoutTrailingSlash.length;
    
    if (pathnameLength > 1 && pathnameWithoutTrailingSlash.lastIndexOf("/") == pathnameLength - 1) {
        pathnameWithoutTrailingSlash = pathnameWithoutTrailingSlash.substring(0, pathnameLength - 1);
    }
    ga("send", "pageview", pathnameWithoutTrailingSlash);
    
    window.onhashchange = function () {
        ga("send", "pageview", window.location.pathname.toLowerCase() + window.location.hash);
    };</script></body></html>
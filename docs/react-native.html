<!DOCTYPE html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><link href=http://gmpg.org/xfn/11 rel=profile><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta http-equiv=content-type content="text/html; charset=utf-8"><meta property=og:title content="CodePush"><meta property=og:site_name content="CodePush"><meta property=og:description content="CodePush is a service that allows you to push live mobile app updates directly to your end users' devices."><meta property=og:image content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG"><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@Microsoft><meta name=twitter:title content=CodePush><meta name=twitter:description content="CodePush is a service that allows you to push live mobile app updates directly to your end users' devices."><meta name=twitter:image content=https://microsoft.github.io/code-push/assets/images/fbshare.PNG><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=viewport content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"><meta name=description content="CodePush is a service that allows you to push live mobile app updates directly to your end users' devices."><title>React Native Client SDK &middot; CodePush</title><link rel=stylesheet href=/code-push/assets/css/vendor.a6bad8f4.css><link rel=stylesheet href=/code-push/assets/css/style.min.2b959535.css><link rel=apple-touch-icon sizes=57x57 href=/code-push/assets/images/icons/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/code-push/assets/images/icons/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/code-push/assets/images/icons/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/code-push/assets/images/icons/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/code-push/assets/images/icons/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/code-push/assets/images/icons/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/code-push/assets/images/icons/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/code-push/assets/images/icons/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/code-push/assets/images/icons/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/code-push/assets/images/icons/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/code-push/assets/images/icons/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/code-push/assets/images/icons/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/code-push/assets/images/icons/favicon-16x16.png><link rel=manifest href=/code-push/assets/images/icons/manifest.json><meta name=msapplication-TileColor content=#294E80><meta name=msapplication-TileImage content=/code-push/assets/images/icons/ms-icon-144x144.png><meta name=theme-color content=#ffffff><script src=/code-push/assets/js/vendors.89d36c54.js></script><script src=/code-push/assets/js/all.min.7a3e5068.js></script><link rel=alternate type=application/rss+xml title=RSS href=/code-push/atom.xml></head><body><header role=banner><nav class="navbar navbar-default navbar-fixed-top"><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle pull-left collapsed" data-toggle=collapse data-target=#bs-example-navbar-collapse-1><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=/code-push/index.html><img class=navbar-logo src="/code-push/assets/images/codepush_navbar_logo.svg"></a></div><div class="collapse navbar-collapse navbar_center" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li class=""><a href=/code-push/index.html#getting_started>Get Started</a></li><li class=active><a href=/code-push/docs/index.html>Documentation</a></li><li class=""><a href=/code-push/faq/index.html>FAQ</a></li></ul></div></div></nav></header><div class=top_navbar_spacer></div><div class=docs><div id=content class="container main_content"><div class="col-md-3 toc-container hidden-sm hidden-xs"><div class=row><div class=site-toc-container><h2 class=site-toc-title>Table of Contents</h2><ul class=site-toc><li><a class="" href=/code-push/docs/getting-started.html>Getting Started</a></li><li><a class="" href=/code-push/docs/cli.html>Management CLI</a></li><li><a class="" href=/code-push/docs/cordova.html>Cordova Client SDK</a></li><li><a class=this-page href=/code-push/docs/react-native.html>React Native Client SDK</a><div id=page-toc class=page-toc></div></li></ul></div></div></div><div class="col-md-7 col-md-offset-1"><div class=row><div class="xs-toc-container visible-sm visible-xs"><nav class=xs-toc><div class="toc-dropdown dropdown"><h2 class=site-toc-title>Table of Contents</h2><a class="dropdown-toggle btn" data-toggle=dropdown href=#>Select topic <span class=caret></span></a><ul class=dropdown-menu><li><a href=/code-push/docs/getting-started.html>Getting Started</a></li><li><a href=/code-push/docs/cli.html>Management CLI</a></li><li><a href=/code-push/docs/cordova.html>Cordova Client SDK</a></li><li><a href=/code-push/docs/react-native.html>React Native Client SDK</a></li></ul></div></nav></div></div><div class=row><header class=doc-header><h1 class=doc-title>React Native Client SDK</h1></header><article class=doc-content><p>This plugin provides integration with the CodePush service, allowing you to easily update your React Native application to enable live app updates. The plugin is exposed via the &ldquo;react-native-code-push&rdquo; module that can be require&rsquo;d by your app at any time.</p><h2>Supported platforms</h2><ul><li>iOS</li><li>Coming soon: Android (Try it out on <a href=https://github.com/Microsoft/react-native-code-push/tree/first-check-in-for-android>this branch</a>)</li></ul><h2>How does it work?</h2><p>A React Native application&rsquo;s assets (JavaScript code and other resources) are traditionally bundled up as a <code>.jsbundle</code> file which is loaded from the application installation location on the target device during runtime. After you submit an update to the store, the user downloads the update, and those assets will be replaced with the new assets.</p><p>CodePush is here to simplify this process by allowing you to instantly update your application&rsquo;s assets without having to submit a new update to the store. We do this by allowing you to upload and manage your React Native app bundles on our CodePush server. In the application, we check for the presence of updated bundles on the server. If they are available, we will install and persist them to the internal storage of the device. If a new bundle is installed, the application will reload from the updated package location.</p><p>For an easy way to get started, please see our <a href=/Examples/CodePushDemoApp>demo application</a> and our <a href=#getting-started>getting started guide</a>.</p><h2>Installation</h2><div class=highlight><pre><code class=language-text data-lang=text>npm install --save react-native-code-push
</code></pre></div><p>After installing the React Native CodePush plugin, open your project in Xcode. Open the <code>react-native-code-push</code> in Finder, and drag the <code>CodePush.xcodeproj</code> into the Libraries folder of Xcode.</p><p><img src=https://cloud.githubusercontent.com/assets/516559/10322414/7688748e-6c32-11e5-83c1-00d3e6758df4.png alt="Add CodePush to project"></p><p>In Xcode, click on your project, and select the &ldquo;Build Phases&rdquo; tab of your project configuration. Drag libCodePush.a from <code>Libraries/CodePush.xcodeproj/Products</code> into the &ldquo;Link Binary With Libraries&rdquo; secton of your project&rsquo;s &ldquo;Build Phases&rdquo; configuration.</p><p><img src=https://cloud.githubusercontent.com/assets/516559/10322221/a75ea066-6c31-11e5-9d88-ff6f6a4d6968.png alt="Link CodePush during build"></p><p>Under the &ldquo;Build Settings&rdquo; tab of your project configuration, find the &ldquo;Header Search Paths&rdquo; section and edit the value. Add a new value, <code>$(SRCROOT)/../node_modules/react-native-code-push</code> and select &ldquo;recursive&rdquo; in the dropdown.</p><p><img src=https://cloud.githubusercontent.com/assets/516559/10322038/b8157962-6c30-11e5-9264-494d65fd2626.png alt="Add CodePush library reference"></p><p>Finally, edit your project&rsquo;s <code>AppDelegate.m</code>.</p><p>At the top of the file, add the following line to import the CodePush headers.</p><div class=highlight><pre><code class=language-objectivec data-lang=objectivec>#import &quot;CodePush.h&quot;
</code></pre></div><p>Then, find the following code:</p><div class=highlight><pre><code class=language-objectivec data-lang=objectivec>jsCodeLocation = [NSURL URLWithString:@&quot;http://localhost:8081/index.ios.bundle?platform=ios&amp;dev=true&quot;];
</code></pre></div><p>Replace it with this:</p><div class=highlight><pre><code class=language-objectivec data-lang=objectivec>jsCodeLocation = [CodePush getBundleUrl];
</code></pre></div><p>This change allows CodePush to load the updated app location after an update has been applied. Before any updates are installed, CodePush will load your app from the bundled &ldquo;main.jsbundle&rdquo; file. After updates are installed, CodePush will load your app from the writable user directory, where the update has been downloaded.</p><h2>Methods</h2><ul><li><a href=#codepushcheckforupdate>checkForUpdate</a>: Checks the service for updates</li><li><a href=#codepushnotifyapplicationready>notifyApplicationReady</a>: Notifies the plugin that the update operation succeeded.</li><li><a href=#codepushgetcurrentpackage>getCurrentPackage</a>: Gets information about the currently applied package.</li></ul><h2>Objects</h2><ul><li><a href=#localpackage>LocalPackage</a>: Contains information about a locally installed package.</li><li><a href=#remotepackage>RemotePackage</a>: Contains information about an updated package available for download.</li></ul><h2>Getting Started:</h2><ul><li>Add the plugin to your app</li><li>Open your app&rsquo;s <code>Info.plist</code> and add a &ldquo;CodePushDeploymentKey&rdquo; entry with your app&rsquo;s deployment key</li><li><p>In your app&rsquo;s <code>Info.plist</code> make sure your &ldquo;CFBundleShortVersionString&rdquo; value is a valid <a href="http://semver.org/">semver</a> version.</p></li><li><p>To publish an update for your app, run <code>react-native bundle</code>, and then publish <code>iOS/main.jsbundle</code> using the CodePush CLI.</p></li></ul><h2>Running the Example</h2><ul><li>Clone this repository</li><li>From the root of this project, run <code>npm install</code></li><li><code>cd</code> into <code>Examples/CodePushDemoApp</code></li><li>From this demo app folder, run <code>npm install</code></li><li>Open <code>Info.plist</code> and fill in the value for CodePushDeploymentKey</li><li>Run <code>npm start</code> to launch the packager</li><li>Open <code>CodePushDemoApp.xcodeproj</code> in Xcode</li><li>Launch the project</li></ul><h2>Running Tests</h2><ul><li>Open <code>CodePushDemoApp.xcodeproj</code> in Xcode</li><li>Navigate to the test explorer (small grey diamond near top left)</li><li>Click on the &lsquo;play&rsquo; button next to CodePushDemoAppTests</li><li>After the tests are completed, green ticks should appear next to the test cases to indicate success</li></ul><h2>LocalPackage</h2><p>Contains details about an update package that has been downloaded locally or already applied (currently installed package).</p><h3>Properties</h3><ul><li><strong>deploymentKey</strong>: Deployment key of the package. (String)</li><li><strong>description</strong>: Package description. (String)</li><li><strong>label</strong>: Package label. (String)</li><li><strong>appVersion</strong>: The native version of the application this package update is intended for. (String)</li><li><strong>isMandatory</strong>: Flag indicating if the update is mandatory. (Boolean)</li><li><strong>packageHash</strong>: The hash value of the package. (String)</li><li><strong>packageSize</strong>: The size of the package, in bytes. (Number)</li></ul><h3>Methods</h3><ul><li><strong>apply(rollbackTimeout): Promise</strong>: Applies this package to the application. The application will be reloaded with this package and on every application launch this package will be loaded. If the rollbackTimeout parameter is provided, the application will wait for a codePush.notifyApplicationReady() for the given number of milliseconds. If codePush.notifyApplicationReady() is called before the time period specified by rollbackTimeout, the apply operation is considered a success. Otherwise, the apply operation will be marked as failed, and the application is reverted to its previous version.</li></ul><h2>RemotePackage</h2><p>Contains details about an update package that is available for download.</p><h3>Properties</h3><ul><li><strong>deploymentKey</strong>: Deployment key of the package. (String)</li><li><strong>description</strong>: Package description. (String)</li><li><strong>label</strong>: Package label. (String)</li><li><strong>appVersion</strong>: The native version of the application this package update is intended for. (String)</li><li><strong>isMandatory</strong>: Flag indicating if the update is mandatory. (Boolean)</li><li><strong>packageHash</strong>: The hash value of the package. (String)</li><li><strong>packageSize</strong>: The size of the package, in bytes. (Number)</li><li><strong>downloadUrl</strong>: The URL at which the package is available for download. (String)</li></ul><h3>Methods</h3><ul><li><strong>download(): Promise<localpackage></localpackage></strong>: Downloads the package update from the CodePush service. Returns a Promise that resolves with the LocalPackage.</li></ul><h2>codePush.checkForUpdate</h2><p>Queries the CodePush server for updates.</p><div class=highlight><pre><code class=language-javascript data-lang=javascript>codePush.checkForUpdate(): Promise&lt;RemotePackage&gt;;
</code></pre></div><p><code>checkForUpdate</code> returns a Promise that resolves when the server responds with an update.</p><p>Usage:</p><div class=highlight><pre><code class=language-javascript data-lang=javascript>codePush.checkForUpdate().then((update) =&gt; {
    console.log(update);
});
</code></pre></div><h2>codePush.getCurrentPackage</h2><div class=highlight><pre><code class=language-javascript data-lang=javascript>codePush.getCurrentPackage(): Promise&lt;LocalPackage&gt;;
</code></pre></div><p>Get the currently installed package information. Returns a Promise that resolves with the local package.</p><h2>codePush.notifyApplicationReady</h2><div class=highlight><pre><code class=language-javascript data-lang=javascript>codePush.notifyApplicationReady(): Promise&lt;void&gt;;
</code></pre></div><p>Notifies the plugin that the update operation succeeded. Calling this function is required if a rollbackTimeout parameter is passed to your <code>LocalPackage.apply</code> call. If automatic rollback was not used, calling this function is not required and will result in a noop.</p></article></div></div></div></div><footer><div class=footer-container><div class=container id=footer><div class=row><div class=col-sm-9><div class=row><div class=col-sm-4><h4>General</h4><ul class=nav><li><a href=https://github.com/Microsoft/code-push/blob/master/LICENSE.md target=_blank>License</a></li><li><a href=https://www.visualstudio.com/en-us/privacy-policy-vs target=_blank>Privacy</a></li><li><a href=https://msdn.microsoft.com/en-us/cc300389 target=_blank>Terms of Service</a></li></ul></div><div class=col-sm-4><h4>Community</h4><ul class=nav><li><a href="https://github.com/Microsoft/code-push/" target=_blank>GitHub Project</a></li><li><a href=https://stackoverflow.com/questions/tagged/codepush target=_blank>Stack Overflow</a></li><li><a href=https://twitter.com/hashtag/codepush target=_blank>#CodePush</a></li></ul></div><div class=col-sm-4><h4>Documentation</h4><ul class=nav><li><a href=https://github.com/Microsoft/code-push/blob/master/cli/README.md target=_blank>CLI Docs</a></li><li><a href=https://github.com/Microsoft/cordova-plugin-code-push/blob/master/README.md target=_blank>Cordova Plugin Docs</a></li><li><a href=https://github.com/Microsoft/react-native-code-push/blob/master/README.md target=_blank>React Native Plugin Docs</a></li></ul></div></div></div><div class=col-sm-3><h3><i class="fa fa-comment"></i> Talk to us!</h3><p>If you have any feedback or suggestions on how we can make CodePush more awesome, please contact us at <a href=mailto:codepushfeed@microsoft.com>codepushfeed@microsoft.com</a>.</p></div></div></div></div><div class="container-fluid signature-container"><div class=container><div class="row signature"><p class="pull-left hidden-xs">Made with <span class="glyphicon glyphicon-heart"></span> in Redmond</p><div class=pull-right><p class="copyright pull-left">&copy;2012-2015 Microsoft <img class=ms-logo-footer src="/code-push/assets/images/Microsoft_logo.svg"></p></div></div></div></div></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-68566566-1', 'auto');
    
     // strip off trailing slashes
    var pathnameWithoutTrailingSlash = window.location.pathname.toLowerCase();
    var pathnameLength = pathnameWithoutTrailingSlash.length;
    
    if (pathnameLength > 1 && pathnameWithoutTrailingSlash.lastIndexOf("/") == pathnameLength - 1) {
        pathnameWithoutTrailingSlash = pathnameWithoutTrailingSlash.substring(0, pathnameLength - 1);
    }
    ga("send", "pageview", pathnameWithoutTrailingSlash);
    
    window.onhashchange = function () {
        ga("send", "pageview", window.location.pathname.toLowerCase() + window.location.hash);
    };</script></body></html>
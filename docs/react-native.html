<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta property="og:title" content="CodePush" />
  <meta property="og:site_name" content="CodePush"/>
  <meta property="og:description" content="CodePush Blog" />
  <meta property="og:image" content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Microsoft">
  <meta name="twitter:title" content="CodePush">
  <meta name="twitter:description" content="CodePush Blog">
  <meta name="twitter:image" content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
  <meta name="description" content="CodePush Blog">

  <title>
    
      React Native Client SDK &middot; CodePush
    
  </title>
  
  <!-- build:css  /assets/css/vendor.css -->
  <link rel="stylesheet" href="/code-push/libraries/bootstrap/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="/code-push/libraries/highlightjs/styles/solarized_light.css">
  <link rel="stylesheet" href="/code-push/libraries/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/code-push/libraries/github-fork-ribbon-css/gh-fork-ribbon.css">
  <!-- endbuild -->
  
  <!-- CSS -->
  <!-- build:css /assets/css/style.min.css -->
  <link rel="stylesheet" href="/code-push/assets/stylesheets/style.css">
  <!-- endbuild -->             

  <!-- Icons --> <!-- TODO: Check that these all wok -->
  <link rel="apple-touch-icon" sizes="57x57" href="/code-push/assets/images/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/code-push/assets/images/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/code-push/assets/images/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/code-push/assets/images/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/code-push/assets/images/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/code-push/assets/images/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/code-push/assets/images/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/code-push/assets/images/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/code-push/assets/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/code-push/assets/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/code-push/assets/images/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/code-push/assets/images/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/code-push/assets/images/icons/favicon-16x16.png">
  <link rel="manifest" href="/code-push/assets/images/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#294E80">
  <meta name="msapplication-TileImage" content="/code-push/assets/images/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- JS -->    
	<!-- build:js  /assets/js/vendors.js  -->	
	<script src="/code-push/libraries/jquery/dist/jquery.min.js"></script>
	<script src="/code-push/libraries/bootstrap/dist/js/bootstrap.js"></script>
  <script src="/code-push/libraries/zeroclipboard/dist/ZeroClipboard.min.js"></script>
  <script src="/code-push/libraries/anchorific.js/min/anchorific.min.js"></script>
  <script src="/code-push/libraries/toc/dist/toc.min.js"></script>
  <script src="/code-push/libraries/highlightjs/highlight.pack.min.js"></script>
  <!-- endbuild -->   
  
  <!-- build:js /assets/js/all.min.js -->
  <script src="/code-push/assets/javascript/global.js"></script>
  <script src="/code-push/assets/javascript/home.js"></script>  
  <script src="/code-push/assets/javascript/docs.js"></script>
  <script src="/code-push/assets/javascript/faq.js"></script>
  <!-- endbuild -->
 
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/code-push/atom.xml">

    
</head>
<body>
    <header role="banner">
	<nav class="navbar navbar-default navbar-fixed-top">
		 <div class="container-fluid">
        	<!--<img class="fork-me-ribbon pull-right" src="../assets/images/fork_me_ribbon.svg" />-->
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle pull-left collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="/code-push/index.html"><img class="navbar-logo" src="/code-push/assets/images/codepush_navbar_logo.svg" /></a>
		    </div>
		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse navbar_center" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
				<li class=""><a href="/code-push/index.html#getting_started">Get Started</a></li>
				<li class="active"><a href="/code-push/docs/index.html">Documentation</a></li>
		        <li class=""><a href="/code-push/faq/index.html">FAQ</a></li>
				<li class=""><a href="/code-push/blog/index.html">Blog</a></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
	</nav>				   		
</header>
<div class="top_navbar_spacer"></div>
	<div class="docs">
    <div id="content" class="container main_content">                       
        <div class="col-md-3 toc-container hidden-sm hidden-xs">
            <div class="row">
<div class='site-toc-container'>
  <h2 class="site-toc-title">Table of Contents</h2>
  <ul class="site-toc">
    
      
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/getting-started.html">
                Getting Started
            </a>
            
          </li>
          
        
          
          
        
          
          
        
      
        
          
          
          <li>
            <a class="" href="/code-push/docs/cli.html">
                Management CLI
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/cordova.html">
                Cordova Client SDK
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="this-page" href="/code-push/docs/react-native.html">
                React Native Client SDK
            </a>
            
                <div id="page-toc" class="page-toc"></div>
            
          </li>
          
        
          
          
        
      
          
  </ul>
</div>
</div>                          
        </div>      
        <div class="col-md-7 col-md-offset-1">
            <div class="row">
                <div class="xs-toc-container visible-sm visible-xs">        
                    <nav class='xs-toc'>
  <div class="toc-dropdown dropdown">
    <h2 class="site-toc-title">Table of Contents</h2>
    <a class="dropdown-toggle btn" data-toggle="dropdown" href="#">
      Select topic
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
          
            
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/getting-started.html>Getting Started</a>
                </li>
                
              
                
                
              
                
                
              
            
              
                
                
                <li>
                  <a href=/code-push/docs/cli.html>Management CLI</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/cordova.html>Cordova Client SDK</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/react-native.html>React Native Client SDK</a>
                </li>
                
              
                
                
              
            
      
    </ul>
  </div>    
</nav>


                </div>            
            </div>
            <div class="row">  
                <header class="doc-header">
                    <h1 class="doc-title">React Native Client SDK</h1>
                    <!--<ul class="nav" style="display:inline-block;"><li><a class="edit-page-link" style="padding-left:0" href="https://microsoft.github.io/code-push_docs/React-Native.md" target="_blank"><span class="glyphicon glyphicon-pencil"></span><i>&nbsp;</i>Edit on GitHub</a></li></ul>-->
                </header>  
                <article class="doc-content">               
                    <p>This plugin provides client-side integration for the <a href="https://microsoft.github.io/code-push">CodePush service</a>, allowing you to easily add a dynamic update experience to your React Native app(s).</p>

<h2>How does it work?</h2>

<p>A React Native app is composed of JavaScript files and any accompanying <a href="https://facebook.github.io/react-native/docs/images.html#content">images</a>, which are bundled together by the <a href="https://github.com/facebook/react-native/tree/master/packager">packager</a> and distributed as part of a platform-specific binary (i.e. an <code>.ipa</code> or <code>.apk</code> file). Once the app is released, updating either the JavaScript code (e.g. making bug fixes, adding new features) or image assets, requires you to recompile and redistribute the entire binary, which of course, includes any review time associated with the store(s) you are publishing to.</p>

<p>The CodePush plugin helps get product improvements in front of your end users instantly, by keeping your JavaScript and images synchronized with updates you release to the CodePush server. This way, your app gets the benefits of an offline mobile experience, as well as the &ldquo;web-like&rdquo; agility of side-loading updates as soon as they are available. It&rsquo;s a win-win!</p>

<p><em>Note: Any product changes which touch native code (e.g. modifying your <code>AppDelegate.m</code>/<code>MainActivity.java</code> file, adding a new plugin) cannot be distributed via CodePush, and therefore, must be updated via the appropriate store(s).</em></p>

<h2>Supported React Native platforms</h2>

<ul>
<li>iOS</li>
<li>Android (asset support coming soon!)</li>
</ul>

<p><em>Note: CodePush v1.3.0 requires v0.14.0+ of React Native, and CodePush v1.4.0 requires v0.15.0+ of React Native, so make sure you are using the right version of the CodePush plugin.</em></p>

<h2>Getting Started</h2>

<p>Once you&rsquo;ve followed the general-purpose <a href="http://microsoft.github.io/code-push/docs/getting-started.html">&ldquo;getting started&rdquo;</a> instructions for setting up your CodePush account, you can start CodePush-ifying your React Native app by running the following command from within your app&rsquo;s root directory:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">npm install --save react-native-code-push
</code></pre></div>
<p>As with all other React Native plugins, the integration experience is different for iOS and Android, so perform the following setup steps depending on which platform(s) you are targetting.</p>

<h2>iOS Setup</h2>

<p>Once you&rsquo;ve acquired the CodePush plugin, you need to integrate it into the Xcode project of your React Native app. To do this, take the following steps:</p>

<h3>Plugin Installation (iOS)</h3>

<ol>
<li>Open your app&rsquo;s Xcode project</li>
<li><p>Find the <code>CodePush.xcodeproj</code> file within the <code>node_modules/react-native-code-push</code> directory, and drag it into the <code>Libraries</code> node in Xcode</p>

<p><img src="https://cloud.githubusercontent.com/assets/516559/10322414/7688748e-6c32-11e5-83c1-00d3e6758df4.png" alt="Add CodePush to project"></p></li>
<li><p>Select the project node in Xcode and select the &ldquo;Build Phases&rdquo; tab of your project configuration.</p></li>
<li><p>Drag <code>libCodePush.a</code> from <code>Libraries/CodePush.xcodeproj/Products</code> into the &ldquo;Link Binary With Libraries&rdquo; secton of your project&rsquo;s &ldquo;Build Phases&rdquo; configuration.</p>

<p><img src="https://cloud.githubusercontent.com/assets/516559/10322221/a75ea066-6c31-11e5-9d88-ff6f6a4d6968.png" alt="Link CodePush during build"></p></li>
<li><p>Click the plus sign underneath the &ldquo;Link Binary With Libraries&rdquo; list and select the <code>libz.tbd</code> library underneath the <code>iOS 9.1</code> node. </p>

<p><img src="https://cloud.githubusercontent.com/assets/116461/11605042/6f786e64-9aaa-11e5-8ca7-14b852f808b1.png" alt="Libz reference"></p>

<p><em>Note: Alternatively, if you prefer, you can add the <code>-lz</code> flag to the <code>Other Linker Flags</code> field in the <code>Linking</code> section of the <code>Build Settings</code>.</em></p></li>
<li><p>Under the &ldquo;Build Settings&rdquo; tab of your project configuration, find the &ldquo;Header Search Paths&rdquo; section and edit the value.
Add a new value, <code>$(SRCROOT)/../node_modules/react-native-code-push</code> and select &ldquo;recursive&rdquo; in the dropdown.</p>

<p><img src="https://cloud.githubusercontent.com/assets/516559/10322038/b8157962-6c30-11e5-9264-494d65fd2626.png" alt="Add CodePush library reference"></p></li>
</ol>

<h3>Plugin Configuration (iOS)</h3>

<p>Once your Xcode project has been setup to build/link the CodePush plugin, you need to configure your app to consult CodePush for the location of your JS bundle, since it is responsible for synchronizing it with updates that are released to the CodePush server. To do this, perform the following steps:</p>

<ol>
<li><p>Open up the <code>AppDelegate.m</code> file, and add an import statement for the CodePush headers:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#import &quot;CodePush.h&quot;
</code></pre></div></li>
<li><p>Find the following line of code, which loads your JS Bundle from the app binary for production releases:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">jsCodeLocation = [[NSBundle mainBundle] URLForResource:@&quot;main&quot; withExtension:@&quot;jsbundle&quot;];
</code></pre></div></li>
<li><p>Replace it with this line:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">jsCodeLocation = [CodePush bundleURL];
</code></pre></div></li>
</ol>

<p>This change configures your app to always load the most recent version of your app&rsquo;s JS bundle. On the first launch, this will correspond to the file that was compiled with the app. However, after an update has been pushed via CodePush, this will return the location of the most recently installed update.</p>

<p><em>NOTE: The <code>bundleURL</code> method assumes your app&rsquo;s JS bundle is named <code>main.jsbundle</code>. If you have configured your app to use a different file name, simply call the <code>bundleURLForResource:</code> method (which assumes you&rsquo;re using the <code>.jsbundle</code> extension) or <code>bundleURLForResource:withExtension:</code> method instead, in order to overwrite that default behavior</em></p>

<p>To let the CodePush runtime know which deployment it should query for updates against, perform the following steps:</p>

<ol>
<li><p>Open your app&rsquo;s <code>Info.plist</code> file and add a new entry named <code>CodePushDeploymentKey</code>, whose value is the key of the deployment you want to configure this app against (e.g. the key for the <code>Staging</code> deployment for the <code>FooBar</code> app). You can retrieve this value by running <code>code-push deployment ls &lt;appName&gt;</code> in the CodePush CLI, and copying the value of the <code>Deployment Key</code> column which corresponds to the deployment you want to use (see below). Note that using the deployment&rsquo;s name (e.g. Staging) will not work. That &ldquo;friendly name&rdquo; is intended only for authenticated management usage from the CLI, and not for public consumption within your app.</p>

<p><img src="https://cloud.githubusercontent.com/assets/116461/11601733/13011d5e-9a8a-11e5-9ce2-b100498ffb34.png" alt="Deployment list"></p></li>
<li><p>In your app&rsquo;s <code>Info.plist</code> make sure your <code>CFBundleShortVersionString</code> value is a valid <a href="http://semver.org/">semver</a> version (e.g. 1.0.0 not 1.0)</p></li>
</ol>

<h2>Android Setup</h2>

<p>In order to integrate CodePush into your Android project, perform the following steps:</p>

<h3>Plugin Installation (Android)</h3>

<ol>
<li><p>In your <code>android/settings.gradle</code> file, make the following additions:</p>
<div class="highlight"><pre><code class="language-gradle" data-lang="gradle">include &#39;:app&#39;, &#39;:react-native-code-push&#39;
project(&#39;:react-native-code-push&#39;).projectDir = new File(rootProject.projectDir, &#39;../node_modules/react-native-code-push/android/app&#39;)
</code></pre></div></li>
<li><p>In your <code>android/app/build.gradle</code> file, add the <code>:react-native-code-push</code> project as a compile-time dependency:</p>
<div class="highlight"><pre><code class="language-gradle" data-lang="gradle">...
dependencies {
    ...
    compile project(&#39;:react-native-code-push&#39;)
}
</code></pre></div></li>
</ol>

<h3>Plugin Configuration (Android)</h3>

<p>After installing the plugin and syncing your Android Studio project with Gradle, you need to configure your app to consult CodePush for the location of your JS bundle, since it will &ldquo;take control&rdquo; of managing the current and all future versions. To do this, perform the following steps:</p>

<ol>
<li><p>Update the <code>MainActivity.java</code> file to use CodePush via the following changes:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java">...
// 1. Import the plugin class
import com.microsoft.codepush.react.CodePush;

// 2. Optional: extend FragmentActivity if you intend to show a dialog prompting users about updates.
//    If you do this, make sure to also add &quot;import android.support.v4.app.FragmentActivity&quot; below #1.
public class MainActivity extends FragmentActivity implements DefaultHardwareBackBtnHandler {
    ...

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        ...
        // 3. Initialize CodePush with your deployment key and an instance of your MainActivity.
        CodePush codePush = new CodePush(&quot;d73bf5d8-4fbd-4e55-a837-accd328a21ba&quot;, this);
        ...
        mReactInstanceManager = ReactInstanceManager.builder()
                .setApplication(getApplication())
                ...
                // 4. DELETE THIS LINE --&gt; .setBundleAssetName(&quot;index.android.bundle&quot;)

                // 5. Let CodePush determine which location to load the most updated bundle from.
                // If there is no updated bundle from CodePush, the location will be the assets
                // folder with the name of the bundle passed in, e.g. index.android.bundle
                .setJSBundleFile(codePush.getBundleUrl(&quot;index.android.bundle&quot;))

                // 6. Expose the CodePush module to JavaScript.
                .addPackage(codePush.getReactPackage())
                ...
    }
}
</code></pre></div></li>
<li><p>Ensure that the <code>android.defaultConfig.versionName</code> property in your <code>android/app/build.gradle</code> file is set to a semver compliant value (i.e. &ldquo;1.0.0&rdquo; not &ldquo;1.0&rdquo;)</p>
<div class="highlight"><pre><code class="language-gradle" data-lang="gradle">android {
    ...
    defaultConfig {
        ...
        versionName &quot;1.0.0&quot;
        ...
    }
    ...
}
</code></pre></div></li>
</ol>

<h2>Plugin Usage</h2>

<p>With the CodePush plugin downloaded and linked, and your app asking CodePush where to get the right JS bundle from, the only thing left is to add the necessary code to your app to control the following policies:</p>

<ol>
<li>When (and how often) to check for an update? (e.g. app start, in response to clicking a button in a settings page, periodically at some fixed interval)</li>
<li>When an update is available, how to present it to the end user?</li>
</ol>

<p>The simplest way to do this is to perform the following in your app&rsquo;s root component:</p>

<ol>
<li><p>Import the JavaScript module for CodePush:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var CodePush = require(&quot;react-native-code-push&quot;)
</code></pre></div></li>
<li><p>Call the <code>sync</code> method from within the <code>componentDidMount</code> lifecycle event, to initiate a background update on each app start:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">CodePush.sync();
</code></pre></div></li>
</ol>

<p>If an update is available, it will be silently downloaded, and installed the next time the app is restarted (either explicitly by the end user or by the OS), which ensures the least invasive experience for your end users. If you would like to display a confirmation dialog (an &ldquo;active install&rdquo;), or customize the update experience in any way, refer to the <code>sync</code> method&rsquo;s <a href="#codepushsync">API reference</a> for information on how to tweak this default behavior.</p>

<h2>Releasing Updates (JavaScript-only)</h2>

<p>Once your app has been configured and distributed to your users, and you&rsquo;ve made some JS changes, it&rsquo;s time to release it to them instantly! If you&rsquo;re not using React Native to bundle images (via <code>require(&#39;./foo.png&#39;)</code>), then perform the following steps. Otherwise, skip to the next section instead:</p>

<ol>
<li><p>Execute <code>react-native bundle</code> (passing the appropriate parameters, see example below) in order to generate the updated JS bundle for your app. You can place this file wherever you want via the <code>--bundle-output</code> flag, since the exact location isn&rsquo;t relevant for CodePush purposes. It&rsquo;s important, however, that you set <code>--dev false</code> so that your JS code is optimized appropriately and any &ldquo;yellow box&rdquo; warnings won&rsquo;t be displayed.</p></li>
<li><p>Execute <code>code-push release &lt;appName&gt; &lt;jsBundleFilePath&gt; &lt;appStoreVersion&gt; --deploymentName &lt;deploymentName&gt;</code> in order to publish the generated JS bundle to the server. The <code>&lt;jsBundleFilePath&gt;</code> parameter should equal the value you provided to the <code>--bundle-output</code> flag in step #1. Additionally, the <code>&lt;appStoreVersion&gt;</code> parameter should equal the exact app store version (i.e. the semver version end users would see when installing it) you want this CodePush update to target.</p></li>
</ol>

<p>Example Usage:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">react-native bundle --platform ios --entry-file index.ios.js --bundle-output codepush.js --dev false
code-push release MyApp codepush.js 1.0.2
</code></pre></div>
<p>And that&rsquo;s it! for more information regarding the CLI and how the release (or promote and rollback) commands work, refer to the <a href="http://microsoft.github.io/code-push/docs/cli.html">documentation</a>.</p>

<p><em>Note: Instead of running <code>react-native bundle</code>, you could rely on running <code>xcodebuild</code> and/or <code>gradlew assemble</code> instead to generate the JavaScript bundle file, but that would be unneccessarily doing a native build, when all you need for distributing updates via CodePush is your JavaScript bundle.</em></p>

<h2>Releasing Updates (JavaScript + images)</h2>

<p><em>Note: Android doesn&rsquo;t currently support deploying assets, so you must use the previous release strategy instead.</em></p>

<p>If you are using the new React Native <a href="https://facebook.github.io/react-native/docs/images.html#content">assets system</a>, as opposed to loading your images from the network and/or platform-specific mechanisms (e.g. iOS asset catalogs), then you can&rsquo;t simply pass your jsbundle to CodePush as demonstrated above. You <strong>MUST</strong> provide your images as well. To do this, simply use the following workflow:</p>

<ol>
<li><p>Create a new directory that can be used to organize your app&rsquo;s release assets (i.e. the JS bundle and your images). We recommend calling this directory &ldquo;release&rdquo; but it can be named anything. If you create this directory within your project&rsquo;s directory, make sure to add it to your <code>.gitignore</code> file, since you don&rsquo;t want it checked into source control.</p></li>
<li><p>When calling <code>react-native bundle</code>, specify that your assets and JS bundle go into the directory you created in #1, and that you want a non-dev build for your respective platform and entry file. For example, assuming you called this directory &ldquo;release&rdquo;, you could run the following command:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">react-native bundle \
--platform ios \
--entry-file index.ios.js \
--bundle-output ./release/main.jsbundle \
--assets-dest ./release
--dev false
</code></pre></div></li>
<li><p>Execute <code>code-push release</code>, passing the path to the directory you created in #1 as the &ldquo;package&rdquo; parameter (e.g. <code>code-push release Foo ./release 1.0.0</code>). The code-push CLI will automatically handle zipping up the contents for you, so don&rsquo;t worry about handling that yourself.</p></li>
</ol>

<p>Additionally, the CodePush client supports differential updates, so even though you are releasing your JS bundle and assets on every update, your end users will only actually download the files they need. The service handles this automatically so that you can focus on creating awesome apps and we can worry about optimizing end user downloads.</p>

<p><em>Note: Releasing assets via CodePush is currently only supported on iOS, and requires that you&rsquo;re using React Native v0.15.0+ and CodePush 1.4.0+. If you are using assets and an older version of the CodePush plugin, you should not release updates via CodePush, because it will break your app&rsquo;s ability to load images from the binary. Please test and release appropriately!</em></p>

<hr>

<h2>API Reference</h2>

<p>The CodePush plugin is made up of two components:</p>

<ol>
<li><p>A JavaScript module, which can be imported/required, and allows the app to interact with the service during runtime (e.g. check for updates, inspect the metadata about the currently running app update).</p></li>
<li><p>A native API (Objective-C and Java) which allows the React Native app host to bootstrap itself with the right JS bundle location.</p></li>
</ol>

<p>The following sections describe the shape and behavior of these APIs in detail:</p>

<h3>JavaScript API Reference</h3>

<p>When you require <code>react-native-code-push</code>, the module object provides the following top-level methods:</p>

<ul>
<li><p><a href="#codepushcheckforupdate">checkForUpdate</a>: Asks the CodePush service whether the configured app deployment has an update available. </p></li>
<li><p><a href="#codepushgetcurrentpackage">getCurrentPackage</a>: Retrieves the metadata about the currently installed update (e.g. description, installation time, size).</p></li>
<li><p><a href="#codepushnotifyapplicationready">notifyApplicationReady</a>: Notifies the CodePush runtime that an installed update is considered successful. If you are manually checking for and installing updates (i.e. not using the <a href="#codepushsync">sync</a> method to handle it all for you), then this method <strong>MUST</strong> be called; otherwise CodePush will treat the update as failed and rollback to the previous version when the app next restarts.</p></li>
<li><p><a href="#codepushrestartapp">restartApp</a>: Immediately restarts the app. If there is an update pending, it will be immediately displayed to the end user. Otherwise, calling this method simply has the same behavior as the end user killing and restarting the process.</p></li>
<li><p><a href="#codepushsync">sync</a>: Allows checking for an update, downloading it and installing it, all with a single call. Unless you need custom UI and/or behavior, we recommend most developers to use this method when integrating CodePush into their apps</p></li>
</ul>

<h4>codePush.checkForUpdate</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">codePush.checkForUpdate(deploymentKey: String = null): Promise&lt;RemotePackage&gt;;
</code></pre></div>
<p>Queries the CodePush service to see whether the configured app deployment has an update available. By default, it will use the deployment key that is configured in your <code>Info.plist</code> file (iOS), or <code>MainActivity.java</code> file (Android), but you can override that by specifying a value via the optional <code>deploymentKey</code> parameter. This can be useful when you want to dynamically &ldquo;redirect&rdquo; a user to a specific deployment, such as allowing &ldquo;Early access&rdquo; via an easter egg or a user setting switch.</p>

<p>This method returns a <code>Promise</code> which resolves to one of two possible values:</p>

<ul>
<li><code>null</code> if there is no update available.</li>
<li>A <code>RemotePackage</code> instance which represents an available update that can be inspected and/or subsequently downloaded.</li>
</ul>

<p>Example Usage: </p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">codePush.checkForUpdate()
.then((update) =&gt; {
    if (!update) {
        console.log(&quot;The app is up to date!&quot;); 
    } else {
        console.log(&quot;An update is available! Should we download it?&quot;);
    }
});
</code></pre></div>
<h4>codePush.getCurrentPackage</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">codePush.getCurrentPackage(): Promise&lt;LocalPackage&gt;;
</code></pre></div>
<p>Retrieves the metadata about the currently installed &ldquo;package&rdquo; (e.g. description, installation time). This can be useful for scenarios such as displaying a &ldquo;what&rsquo;s new?&rdquo; dialog after an update has been applied.</p>

<p>This method returns a <code>Promise</code> which resolves to the <code>LocalPackage</code> instance that represents the currently running update. </p>

<p>Example Usage: </p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">codePush.getCurrentPackage()
.then((update) =&gt; {
    // If the current app &quot;session&quot; represents the first time
    // this update has run, and it had a description provided
    // with it upon release, let&#39;s show it to the end user
    if (update.isFirstRun &amp;&amp; update.description) {
        // Display a &quot;what&#39;s new?&quot; modal
    }
});
</code></pre></div>
<h4>codePush.notifyApplicationReady</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">codePush.notifyApplicationReady(): Promise&lt;void&gt;;
</code></pre></div>
<p>Notifies the CodePush runtime that a freshly installed update should be considered successful, and therefore, an automatic client-side rollback isn&rsquo;t necessary. It is mandatory to call this function somewhere in the code of the updated bundle. Otherwise, when the app next restarts, the CodePush runtime will assume that the installed update has failed and roll back to the previous version. This behavior exists to help ensure that your end users aren&rsquo;t blocked by a broken update.</p>

<p>If you are using the <code>sync</code> function, and doing your update check on app start, then you don&rsquo;t need to manually call <code>notifyApplicationReady</code> since <code>sync</code> will call it for you. This behavior exists due to the assumption that the point at which <code>sync</code> is called in your app represents a good approximation of a successful startup.</p>

<h4>codePush.restartApp</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">codePush.restartApp(): void;        
</code></pre></div>
<p>Immediately restarts the app. If there is an update pending, it will be presented to the end user and the rollback timer (if specified when installing the update) will begin. Otherwise, calling this method simply has the same behavior as the end user killing and restarting the process. This method is for advanced scenarios, and is primarily useful when the following conditions are true:       </p>

<ol>
<li>Your app is specifying an install mode value of <code>ON_NEXT_RESTART</code> or <code>ON_NEXT_RESUME</code> when calling the <code>sync</code> or <code>LocalPackage.install</code> methods. This has the effect of not applying your update until the app has been restarted (by either the end user or OS) or resumed, and therefore, the update won&rsquo;t be immediately displayed to the end user    .</li>
<li>You have an app-specific user event (e.g. the end user navigated back to the app&rsquo;s home route) that allows you to apply the update in an unobtrusive way, and potentially gets the update in front of the end user sooner then waiting until the next restart or resume.<br></li>
</ol>

<h4>codePush.sync</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">codePush.sync(options: Object, syncStatusChangeCallback: function(syncStatus: Number), downloadProgressCallback: function(progress: DownloadProgress)): Promise&lt;Number&gt;;
</code></pre></div>
<p>Synchronizes your app&rsquo;s JavaScript bundle and image assets with the latest release to the configured deployment. Unlike the <code>checkForUpdate</code> method, which simply checks for the presence of an update, and let&rsquo;s you control what to do next, <code>sync</code> handles the update check, download and installation experience for you.</p>

<p>This method provides support for two different (but customizable) &ldquo;modes&rdquo; to easily enable apps with different requirements:</p>

<ol>
<li><p><strong>Silent mode</strong> <em>(the default behavior)</em>, which automatically downloads available updates, and applies them the next time the app restarts. This way, the entire update experience is &ldquo;silent&rdquo; to the end user, since they don&rsquo;t see any update prompt and/or &ldquo;synthetic&rdquo; app restarts.</p></li>
<li><p><strong>Active mode</strong>, which when an update is available, prompts the end user for permission before downloading it, and then immediately applies the update. If an update was released using the <code>mandatory</code> flag, the end user would still be notified about the update, but they wouldn&rsquo;t have the choice to ignore it.</p></li>
</ol>

<p>Example Usage: </p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">// Fully silent update which keeps the app in
// sync with the server, without ever 
// interrupting the end user
codePush.sync();

// Active update, which lets the end user know
// about each update, and displays it to them
// immediately after downloading it
codePush.sync({ updateDialog: true, installMode: codePush.InstallMode.IMMEDIATE });
</code></pre></div>
<p><em>Note: If you want to decide whether you check and/or download an available update based on the end user&rsquo;s device battery level, network conditions, etc. then simply wrap the call to <code>sync</code> in a condition that ensures you only call it when desired.</em></p>

<p>While the <code>sync</code> method tries to make it easy to perform silent and active updates with little configuration, it accepts an &ldquo;options&rdquo; object that allows you to customize numerous aspects of the default behavior mentioned above:</p>

<ul>
<li><p><strong>deploymentKey</strong> <em>(String)</em> - Specifies the deployment key you want to query for an update against. By default, this value is derived from the <code>Info.plist</code> file (iOS) and <code>MainActivity.java</code> file (Android), but this option allows you to override it from the script-side if you need to dynamically use a different deployment for a specific call to <code>sync</code>.</p></li>
<li><p><strong>installMode</strong> <em>(CodePush.InstallMode)</em> - Indicates when you would like to &ldquo;install&rdquo; the update after downloading it, which includes reloading the JS bundle in order for any changes to take affect. Defaults to <code>CodePush.InstallMode.ON_NEXT_RESTART</code>. Refer to the <a href="#installmode"><code>InstallMode</code></a> enum reference for a description of the available options and what they do.</p></li>
<li><p><strong>updateDialog</strong> <em>(UpdateDialogOptions)</em> - An &ldquo;options&rdquo; object used to determine whether a confirmation dialog should be displayed to the end user when an update is available, and if so, what strings to use. Defaults to <code>null</code>, which has the effect of disabling the dialog completely. Setting this to any truthy value will enable the dialog with the default strings, and passing an object to this parameter allows enabling the dialog as well as overriding one or more of the default strings. The following list represents the available options and their defaults:</p>

<ul>
<li><strong>appendReleaseDescription</strong> <em>(Boolean)</em> - Indicates whether you would like to append the description of an available release to the notification message which is displayed to the end user. Defaults to <code>false</code>.</li>
<li><strong>descriptionPrefix</strong> <em>(String)</em> - Indicates the string you would like to prefix the release description with, if any, when displaying the update notification to the end user. Defaults to <code>&quot; Description: &quot;</code></li>
<li><strong>mandatoryContinueButtonLabel</strong> <em>(String)</em> - The text to use for the button the end user must press in order to install a mandatory update. Defaults to <code>&quot;Continue&quot;</code>.</li>
<li><strong>mandatoryUpdateMessage</strong> <em>(String)</em> - The text used as the body of an update notification, when the update is specified as mandatory. Defaults to <code>&quot;An update is available that must be installed.&quot;</code>.</li>
<li><strong>optionalIgnoreButtonLabel</strong> <em>(String)</em> - The text to use for the button the end user can press in order to ignore an optional update that is available. Defaults to <code>&quot;Ignore&quot;</code>.</li>
<li><strong>optionalInstallButtonLabel</strong> <em>(String)</em> - The text to use for the button the end user can press in order to install an optional update. Defaults to <code>&quot;Install&quot;</code>.</li>
<li><strong>optionalUpdateMessage</strong> <em>(String)</em> - The text used as the body of an update notification, when the update is optional. Defaults to <code>&quot;An update is available. Would you like to install it?&quot;</code>.</li>
<li><strong>title</strong> <em>(String)</em> - The text used as the header of an update notification that is displayed to the end user. Defaults to <code>&quot;Update available&quot;</code>.</li>
</ul></li>
</ul>

<p>Example Usage:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">// Use a different deployment key for this
// specific call, instead of the one configured
// in the Info.plist file
codePush.sync({ deploymentKey: &quot;KEY&quot; });

// Download the update silently
// but install is on the next resume
// instead of waiting until the app is restarted
codePush.sync({ installMode: codePush.InstallMode.ON_NEXT_RESUME });

// Changing the title displayed in the
// confirmation dialog of an &quot;active&quot; update
codePush.sync({ updateDialog: { title: &quot;An update is available!&quot; } });
</code></pre></div>
<p>In addition to the options, the <code>sync</code> method also accepts two optional function parameters which allow you to subscribe to the lifecycle of the <code>sync</code> &ldquo;pipeline&rdquo; in order to display additional UI as needed (e.g. a &ldquo;checking for update modal or a download progress modal):</p>

<ul>
<li><p><strong>syncStatusChangedCallback</strong> <em>((syncStatus: Number) =&gt; void)</em> - Called when the sync process moves from one stage to another in the overall update process. The method is called with a status code which represents the current state, and can be any of the <a href="#syncstatus"><code>SyncStatus</code></a> values.</p></li>
<li><p><strong>downloadProgressCallback</strong> <em>((progress: DownloadProgress) =&gt; void)</em> - Called periodically when an available update is being downloaded from the CodePush server. The method is called with a <code>DownloadProgress</code> object, which contains the following two properties:</p>

<ul>
<li><strong>totalBytes</strong> <em>(Number)</em> - The total number of bytes expected to be received for this update package</li>
<li><strong>receivedBytes</strong> <em>(Number)</em> - The number of bytes downloaded thus far.</li>
</ul></li>
</ul>

<p>Example Usage:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">// Prompt the user when an update is available
// and then display a &quot;downloading&quot; modal 
codePush.sync({ updateDialog: true }, (status) =&gt; {
    switch (status) {
        case CodePush.SyncStatus.DOWNLOADING_PACKAGE:
            // Show &quot;downloading&quot; modal
            break;
        case CodePush.SyncStatus.INSTALLING_UPDATE:
            // Hide &quot;downloading&quot; modal
            break;
    }
});
</code></pre></div>
<p>This method returns a <code>Promise</code> which is resolved to a <code>SyncStatus</code> code that indicates why the <code>sync</code> call succeeded. This code can be one of the following <code>SyncStatus</code> values:</p>

<ul>
<li><strong>CodePush.SyncStatus.UP_TO_DATE</strong> <em>(4)</em> - The app is up-to-date with the CodePush server.</li>
<li><strong>CodePush.SyncStatus.UPDATE_IGNORED</strong> <em>(5)</em> - The app had an optional update which the end user chose to ignore. (This is only applicable when the <code>updateDialog</code> is used)</li>
<li><strong>CodePush.SyncStatus.UPDATE_INSTALLED</strong> <em>(6)</em> - The update has been installed and will be run either immediately after the <code>syncStatusChangedCallback</code> function returns or the next time the app resumes/restarts, depending on the <code>InstallMode</code> specified in <code>SyncOptions</code>.</li>
</ul>

<p>If the update check and/or the subsequent download fails for any reason, the <code>Promise</code> object returned by <code>sync</code> will be rejected with the reason.</p>

<p>The <code>sync</code> method can be called anywhere you&rsquo;d like to check for an update. That could be in the <code>componentWillMount</code> lifecycle event of your root component, the onPress handler of a <code>&lt;TouchableHighlight&gt;</code> component, in the callback of a periodic timer, or whatever else makes sense for your needs. Just like the <code>checkForUpdate</code> method, it will perform the network request to check for an update in the background, so it won&rsquo;t impact your UI thread and/or JavaScript thread&rsquo;s responsiveness.</p>

<h4>Package objects</h4>

<p>The <code>checkForUpdate</code> and <code>getCurrentPackage</code> methods return promises, that when resolved, provide acces to &quot;package&rdquo; objects. The package represents your code update as well as any extra metadata (e.g. description, mandatory?). The CodePush API has the distinction between the following types of packages:</p>

<ul>
<li><a href="#localpackage">LocalPackage</a>: Represents a downloaded update package that is either already running, or has been installed and is pending an app restart.</li>
<li><a href="#remotepackage">RemotePackage</a>: Represents an available update on the CodePush server that hasn&rsquo;t been downloaded yet.</li>
</ul>

<h5>LocalPackage</h5>

<p>Contains details about an update that has been downloaded locally or already installed. You can get a reference to an instance of this object either by calling the module-level <code>getCurrentPackage</code> method, or as the value of the promise returned by the <code>RemotePackage.download</code> method.</p>

<h6>Properties</h6>

<ul>
<li><strong>appVersion</strong>: The app binary version that this update is dependent on. This is the value that was specified via the <code>appStoreVersion</code> parameter when calling the CLI&rsquo;s <code>release</code> command. <em>(String)</em></li>
<li><strong>deploymentKey</strong>: The deployment key that was used to originally download this update. <em>(String)</em></li>
<li><strong>description</strong>: The description of the update. This is the same value that you specified in the CLI when you released the update. <em>(String)</em></li>
<li><strong>failedInstall</strong>: Indicates whether this update has been previously installed but was rolled back. The <code>sync</code> method will automatically ignore updates which have previously failed, so you only need to worry about this property if using <code>checkForUpdate</code>. <em>(Boolean)</em></li>
<li><strong>isFirstRun</strong>: Indicates whether this is the first time the update has been run after being installed. This is useful for determining whether you would like to show a &ldquo;What&rsquo;s New?&rdquo; UI to the end user after installing an update. <em>(Boolean)</em></li>
<li><strong>isMandatory</strong>: Indicates whether the update is considered mandatory.  This is the value that was specified in the CLI when the update was released. <em>(Boolean)</em></li>
<li><strong>isPending</strong>: Indicates whether this update is in a &ldquo;pending&rdquo; state. When <code>true</code>, that means the update has been downloaded and installed, but the app restart needed to apply it hasn&rsquo;t occurred yet, and therefore, it&rsquo;s changes aren&rsquo;t currently visible to the end-user. <em>(Boolean)</em></li>
<li><strong>label</strong>: The internal label automatically given to the update by the CodePush server. This value uniquely identifies the update within it&rsquo;s deployment. <em>(String)</em></li>
<li><strong>packageHash</strong>: The SHA hash value of the update. <em>(String)</em></li>
<li><strong>packageSize</strong>: The size of the code contained within the update, in bytes. <em>(Number)</em></li>
</ul>

<h6>Methods</h6>

<ul>
<li><strong>install(installMode: CodePush.InstallMode = CodePush.InstallMode.ON_NEXT_RESTART): Promise&lt;void&gt;</strong>: Installs the update by saving it to the location on disk where the runtime expects to find the latest version of the app. The <code>installMode</code> parameter controls when the changes are actually presented to the end user. The default value is to wait until the next app restart to display the changes, but you can refer to the <a href="#installmode"><code>InstallMode</code></a> enum reference for a description of the available options and what they do.</li>
</ul>

<h5>RemotePackage</h5>

<p>Contains details about an update that is available for download from the CodePush server. You get a reference to an instance of this object by calling the <code>checkForUpdate</code> method when an update is available. If you are using the <code>sync</code> API, you don&rsquo;t need to worry about the <code>RemotePackage</code>, since it will handle the download and installation process automatically for you.</p>

<h6>Properties</h6>

<p>The <code>RemotePackage</code> inherits all of the same properties as the <code>LocalPackage</code>, but includes one additional one:</p>

<ul>
<li><strong>downloadUrl</strong>: The URL at which the package is available for download. This property is only needed for advanced usage, since the <code>download</code> method will automatically handle the acquisition of updates for you. <em>(String)</em></li>
</ul>

<h6>Methods</h6>

<ul>
<li><strong>download(downloadProgressCallback?: Function): Promise&lt;LocalPackage&gt;</strong>: Downloads the available update from the CodePush service. If a <code>downloadProgressCallback</code> is specified, it will be called periodically with a <code>DownloadProgress</code> object (<code>{ totalBytes: Number, receivedBytes: Number }</code>) that reports the progress of the download until it completes. Returns a Promise that resolves with the <code>LocalPackage</code>.</li>
</ul>

<h4>Enums</h4>

<p>The CodePush API includes the following enums which can be used to customize the update experience:</p>

<h5>InstallMode</h5>

<p>This enum specified when you would like an installed update to actually be applied, and can be passed to either the <code>sync</code> or <code>LocalPackage.install</code> methods. It includes the following values:
* <strong>CodePush.InstallMode.IMMEDIATE</strong> <em>(0)</em> - Indicates that you want to install the update and restart the app immediately. This value is appropriate for debugging scenarios as well as when displaying an update prompt to the user, since they would expect to see the changes immediately after accepting the installation.</p>

<ul>
<li><p><strong>CodePush.InstallMode.ON_NEXT_RESTART</strong> <em>(1)</em> - Indicates that you want to install the update, but not forcibly restart the app. When the app is &ldquo;naturally&rdquo; restarted (due the OS or end user killing it), the update will be seamlessly picked up. This value is appropriate when performing silent updates, since it would likely be disruptive to the end user if the app suddenly restarted out of nowhere, since they wouldn&rsquo;t have realized an update was even downloaded. This is the default mode used for both the <code>sync</code> and <code>LocalPackage.install</code> methods.</p></li>
<li><p><strong>CodePush.InstallMode.ON_NEXT_RESUME</strong> <em>(2)</em> - Indicates that you want to install the update, but don&rsquo;t want to restart the app until the next time the end user resumes it from the background. This way, you don&rsquo;t disrupt their current session, but you can get the update in front of them sooner then having to wait for the next natural restart. This value is appropriate for silent installs that can be applied on resume in a non-invasive way.</p></li>
</ul>

<h5>SyncStatus</h5>

<p>This enum is provided to the <code>syncStatusChangedCallback</code> function that can be passed to the <code>sync</code> method, in order to hook into the overall update process. It includes the following values:</p>

<ul>
<li><strong>CodePush.SyncStatus.CHECKING_FOR_UPDATE</strong> <em>(0)</em> - The CodePush server is being queried for an update.</li>
<li><strong>CodePush.SyncStatus.AWAITING_USER_ACTION</strong> <em>(1)</em> - An update is available, and a confirmation dialog was shown to the end user. (This is only applicable when the <code>updateDialog</code> is used)</li>
<li><strong>CodePush.SyncStatus.DOWNLOADING_PACKAGE</strong> <em>(2)</em> - An available update is being downloaded from the CodePush server.</li>
<li><strong>CodePush.SyncStatus.INSTALLING_UPDATE</strong> <em>(3)</em> - An available update was downloaded and is about to be installed.</li>
<li><strong>CodePush.SyncStatus.UP_TO_DATE</strong> <em>(4)</em> - The app is fully up-to-date with the configured deployment.</li>
<li><strong>CodePush.SyncStatus.UPDATE_IGNORED</strong> <em>(5)</em> - The app has an optional update, which the end user chose to ignore. (This is only applicable when the <code>updateDialog</code> is used)</li>
<li><strong>CodePush.SyncStatus.UPDATE_INSTALLED</strong> <em>(6)</em> - An available update has been installed and will be run either immediately after the <code>syncStatusChangedCallback</code> function returns or the next time the app resumes/restarts, depending on the <code>InstallMode</code> specified in <code>SyncOptions</code>.</li>
<li><strong>CodePush.SyncStatus.UNKNOWN_ERROR</strong> <em>(-1)</em> - The sync operation encountered an unknown error. </li>
</ul>

<h3>Objective-C API Reference (iOS)</h3>

<p>The Objective-C API is made available by importing the <code>CodePush.h</code> header into your <code>AppDelegate.m</code> file, and consists of a single public class named <code>CodePush</code>.</p>

<h4>CodePush</h4>

<p>Contains static methods for retreiving the <code>NSURL</code> that represents the most recent JavaScript bundle file, and can be passed to the <code>RCTRootView</code>&rsquo;s <code>initWithBundleURL</code> method when bootstrapping your app in the <code>AppDelegate.m</code> file. </p>

<p>The <code>CodePush</code> class&rsquo; methods can be thought of as composite resolvers which always load the appropriate bundle, in order to accomodate the following scenarios:</p>

<ol>
<li><p>When an end-user installs your app from the store (e.g. <code>1.0.0</code>), they will get the JS bundle that is contained within the binary. This is the behavior you would get without using CodePush, but we make sure it doesn&rsquo;t break :)</p></li>
<li><p>As soon as you begin releasing CodePush updates, your end-users will get the JS bundle that represents the latest release for the configured deployment. This is the behavior that allows you to iterate beyond what you shipped to the store.</p></li>
<li><p>As soon as you release an update to the app store (e.g. <code>1.1.0</code>), and your end-users update it, they will once again get the JS bundle that is contained within the binary. This behavior ensures that CodePush updates that targetted a previous app store version aren&rsquo;t used (since we don&rsquo;t know it they would work), and your end-users always have a working version of your app.</p></li>
<li><p>Repeat #2 and #3 as the CodePush releases and app store releases continue on into infinity (and beyond?)</p></li>
</ol>

<p>Because of this behavior, you can safely deploy updates to both the app store(s) and CodePush as neccesary, and rest assured that your end-users will always get the most recent version.  </p>

<h5>Methods</h5>

<ul>
<li><p><strong>(NSURL *)bundleURL</strong> - Returns the most recent JS bundle <code>NSURL</code> as described above. This method assumes that the name of the JS bundle contained within your app binary is <code>main.jsbundle</code>.</p></li>
<li><p><strong>(NSURL *)bundleURLForResource:(NSString *)resourceName</strong> - Equivalent to the <code>bundleURL</code> method, but also allows customizing the name of the JS bundle that is looked for within the app binary. This is useful if you aren&rsquo;t naming this file <code>main</code> (which is the default convention). This method assumes that the JS bundle&rsquo;s extension is <code>*.jsbundle</code>.</p></li>
<li><p><strong>(NSURL *)bundleURLForResource:(NSString *)resourceName withExtension:(NSString *)resourceExtension</strong>: Equivalent to the <code>bundleURLForResource:</code> method, but also allows customizing the extension used by the JS bundle that is looked for within the app binary. This is useful if you aren&rsquo;t naming this file <code>*.jsbundle</code> (which is the default convention).</p></li>
</ul>

<h3>Java API Reference (Android)</h3>

<p>The Java API is made available by importing the <code>com.microsoft.codepush.react.CodePush</code> class into your <code>MainActivity.java</code> file, and consists of a single public class named <code>CodePush</code>.</p>

<h4>CodePush</h4>

<p>Constructs the CodePush client runtime and includes methods for integrating CodePush into your app&rsquo;s <code>ReactInstanceManager</code>.</p>

<h5>Constructors</h5>

<ul>
<li><strong>CodePush(String deploymentKey, Activity mainActivity)</strong> - Creates a new instance of the CodePush runtime, that will be used to query the service for updates via the provided deployment key. The <code>mainActivity</code> parameter should always be set to <code>this</code> when configuring your <code>ReactInstanceManager</code> inside the <code>MainActivity</code> class.</li>
</ul>

<h5>Methods</h5>

<ul>
<li><p><strong>getBundleUrl(String bundleName)</strong> - Returns the path to the most recent version of your app&rsquo;s JS bundle file, using the specified resource name (e.g. <code>index.android.bundle</code>). This method has the same resolution behavior as the Objective-C equivalent described above.</p></li>
<li><p><strong>getReactPackage()</strong> - Returns a <code>ReactPackage</code> object that should be added to your <code>ReactInstanceManager</code> via its <code>addPackage</code> method. Without this, the <code>react-native-code-push</code> JS module won&rsquo;t be available to your script.</p></li>
</ul>
  
                </article>
            </div>  
        </div>           
    </div>
</div>
	<footer>
    <div class="footer-container">
        <div class="container" id="footer">
            <div class="row">
                <div class="col-sm-9">
                    <div class="row">
                        <div class="col-sm-4">
                            <h4>General</h4>
                            <ul class="nav">
                                <!--TODO: CHECK LINKS-->
                                <li><a href="https://github.com/Microsoft/code-push/blob/master/LICENSE.md" target="_blank">License</a></li>
                                <li><a href="https://www.visualstudio.com/en-us/privacy-policy-vs" target="_blank">Privacy</a></li>
                                <li><a href="https://msdn.microsoft.com/en-us/cc300389" target="_blank">Terms of Service</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <h4>Community</h4>
                            <ul class="nav">
                                <li><a href="https://github.com/Microsoft/code-push/" target="_blank">GitHub Project</a></li>
                                <li><a href="https://stackoverflow.com/questions/tagged/codepush" target="_blank">Stack Overflow</a></li>
                                <li><a href="https://twitter.com/hashtag/codepush" target="_blank">#CodePush</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <h4>Documentation</h4>
                            <ul class="nav">
                                <li><a href="https://github.com/Microsoft/code-push/blob/master/cli/README.md" target="_blank">CLI Docs</a></li>
                                <li><a href="https://github.com/Microsoft/cordova-plugin-code-push/blob/master/README.md" target="_blank">Cordova Plugin Docs</a></li>
                                <li><a href="https://github.com/Microsoft/react-native-code-push/blob/master/README.md" target="_blank">React Native Plugin Docs</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <h3><i class="fa fa-comment"></i> Talk to us!</h3>
                    <p>If you have any feedback or suggestions on how we can make CodePush more awesome, please <a href=mailto:codepushfeed@microsoft.com>email us</a> or ping us in the <a href="https://discord.gg/0ZcbPKXt5bWxFdFu">#code-push</a> channel on Reactiflux (for React Native).</p>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid signature-container">
        <div class="container">
            <div class="row signature">          
                <p class="pull-left hidden-xs">Made with <span class="glyphicon glyphicon-heart"></span> in Redmond</p> 
                <div class="pull-right">
                    <p class="copyright pull-left">&copy;2012-2015 Microsoft
                    <img class="ms-logo-footer" src="/code-push/assets/images/Microsoft_logo.svg"/></p>
                </div>              
            </div>
        </div>        
    </div>
</footer>

	<script>
    
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-68566566-1', 'auto');
    
     // strip off trailing slashes
    var pathnameWithoutTrailingSlash = window.location.pathname.toLowerCase();
    var pathnameLength = pathnameWithoutTrailingSlash.length;
    
    if (pathnameLength > 1 && pathnameWithoutTrailingSlash.lastIndexOf("/") == pathnameLength - 1) {
        pathnameWithoutTrailingSlash = pathnameWithoutTrailingSlash.substring(0, pathnameLength - 1);
    }
    ga("send", "pageview", pathnameWithoutTrailingSlash);
    
    window.onhashchange = function () {
        ga("send", "pageview", window.location.pathname.toLowerCase() + window.location.hash);
    };    
    
</script>
</body>	
</html>